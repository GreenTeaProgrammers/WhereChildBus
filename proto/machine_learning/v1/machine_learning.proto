syntax = "proto3";

package machine_learning.v1;

service MachineLearningService {
        rpc Train(TrainRequest) returns (TrainResponse);
        rpc Pred(stream PredRequest) returns (stream PredResponse);
        rpc FaceDetectAndClip(FaceDetectAndClipRequest) returns (FaceDetectAndClipResponse);
}

message TrainRequest {
        string nursery_id = 1;
        repeated string child_id = 2;
        string bus_id = 3;
}

message TrainResponse {
        bool is_started = 1;
}

message PredRequest {
        string bus_id = 1;
        // TODO: add video data
}

message PredResponse {
        repeated string child_id = 1;
}

message FaceDetectAndClipRequest {
        string nursery_id = 1;
        string child_id = 2;
}

message FaceDetectAndClipResponse {
        bool is_started = 1;
}

